<!--
/******************************************************************************
 * Vige, Home of Professional Open Source Copyright 2010, Vige, and           *
 * individual contributors by the @authors tag. See the copyright.txt in the  *
 * distribution for a full listing of individual contributors.                *
 * Licensed under the Apache License, Version 2.0 (the "License"); you may    *
 * not use this file except in compliance with the License. You may obtain    *
 * a copy of the License at http://www.apache.org/licenses/LICENSE-2.0        *
 * Unless required by applicable law or agreed to in writing, software        *
 * distributed under the License is distributed on an "AS IS" BASIS,          *
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.   *
 * See the License for the specific language governing permissions and        *
 * limitations under the License.                                             *
 ******************************************************************************/
-->

<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
	xmlns:cc="http://xmlns.jcp.org/jsf/composite"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

	<cc:interface>
		<cc:attribute name="topicrow" required="true" />
		<cc:attribute name="component" required="true" />
	</cc:interface>

	<cc:implementation>
		<!-- mini post navigator for this topic -->
		<h:panelGroup
			rendered="#{cc.attrs.component.topicNavigator[cc.attrs.topicrow.id] ne null and cc.attrs.component.topicNavigator[cc.attrs.topicrow.id].totalPages > 1}">
                        &#160;(&#160;
                        <h:commandLink action="viewTopic" value="${1}">
				<f:param name="t" value="#{cc.attrs.topicrow.id}" />
				<f:param name="page" value="0" />
			</h:commandLink>
                        &#160;
                        <h:commandLink action="viewTopic" value="${2}">
				<f:param name="t" value="#{cc.attrs.topicrow.id}" />
				<f:param name="page" value="1" />
			</h:commandLink>
			<h:panelGroup
				rendered="#{cc.attrs.component.topicNavigator[cc.attrs.topicrow.id].totalPages gt 2}">
                            &#160;
                            <h:commandLink action="viewTopic"
					value="${3}">
					<f:param name="t" value="#{cc.attrs.topicrow.id}" />
					<f:param name="page" value="2" />
				</h:commandLink>
			</h:panelGroup>
			<h:panelGroup
				rendered="#{cc.attrs.component.topicNavigator[cc.attrs.topicrow.id].totalPages gt 3}">                        
                            &#160;&#8230;&#160;
                            <h:commandLink action="viewTopic"
					value="${resourcebundle.Last_page}">
					<f:param name="t" value="#{cc.attrs.topicrow.id}" />
					<f:param name="page"
						value="#{cc.attrs.component.topicNavigator[cc.attrs.topicrow.id].totalPages-1}" />
				</h:commandLink>
			</h:panelGroup>
                        &#160;)
                    </h:panelGroup>

	</cc:implementation>

</ui:composition>
